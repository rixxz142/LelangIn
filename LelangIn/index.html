<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Lelangin.</title>
    <link rel="stylesheet" href=""style.css">
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  </head>
  <body class="bg-secondary">

    <!-- menu -->
    <div class="container border mb-4 mt-4 rounded-3 shadow bg-white">
        <nav class="d-md-flex p-4">
            <div> <h1>Lelangin</h1></div>
            <div class="ms-auto my-auto">
                <ul class="list-inline m-0">
                    <li class="list-inline-item mx-md-3"> <a href='' class="text-decoration-none text-dark fw-bold">Products</a></li>
                    <li class="list-inline-item mx-md-3"> <a href='' class="text-decoration-none text-dark fw-bold">About us</a></li>
                    <li class="list-inline-item mx-md-3"> <a href='' class="text-decoration-none text-dark fw-bold">How to order</a></li>
                </ul>
            </div>
        </nav>

        <!-- banner -->
    <div class="px-4 mb-4">
            <img src="https://cdn11.bigcommerce.com/s-10c6f/images/stencil/1280x1280/products/15456/145948/BAN018-MD__39745.1648218386.jpg?c=2" class="w-100 rounded-3" />
    </div>


    <!-- content catalog -->
    <h3 class="text-center">Lelangan Kita</h3>
    <div class="text-center w-50 mx-auto fw-light">
        Barang berikut merupakan barang-barang pilihan yang kami pilih untuk khusus untuk anda.
    </div>

    <div class="row row-cols-md-3 row-cols-2 gx5 p-4">
        <div class="col mb-5">
            <div class="card shadow" >
                <img src="laptop1.png" class="card-img-top" alt="...">
                <div class="card-body">
                  <h5 class="card-title">Advan Stylus 360</h5>
                  <p class="card-text"> 
                    Prosesor
                    Intel Core i3-1115G4
                    • Graphic Card
                    Intel UHD Graphics
                    • RAM
                    8 GB onboard
                    • Storage
                    256 GB SSD NVMe PCIe M.2
                    • Baterai
                    4500 mAh
                  </p>
<!-- 
                  <a href="#" class="btn btn-primary">Go somewhere</a> -->
                </div>
                
                <div class="card-footer d-md-flex">
                    <a class="btn btn-sm btn-primary d-block btnDetail">Detail</a>
                    <span class="ms-auto fw-normal d-block text-center my-auto ">Last Bid</span>
                    <span class="ms-auto text-danger fw-bold d-block text-center my-auto ">Rp.15.000.0000</span>
                    
                </div>
              </div>
        </div>

        <div class="col mb-5">
            <div class="card shadow" >
                <img src="jamtgn.png" class="card-img-top" alt="...">
                <div class="card-body">
                  <h5 class="card-title">Jam Tangan Wanita SKMEI 2028CL</h5>
                  <p class="card-text"> SKMEI Casual Women Leather Strap Original 2028CL Coklat ini hadir dengan interface unik dan stylish dan tahan air hingga tekanan 30 meter.</p>
<!-- 
                  <a href="#" class="btn btn-primary">Go somewhere</a> -->
                </div>
                <div class="card-footer d-md-flex">
                    <a class="btn btn-sm btn-primary d-block mx-md-1 btnDetail">Detail</a>
                    <span class="ms-auto fw-normal d-block text-center my-auto mx-md-1">Last Bid</span>
                    <span class="ms-auto text-danger fw-bold d-block text-center my-auto mx-md-1">Rp.2.250.0000</span>
                    
                </div>
              </div>
        </div>




        <div class="col mb-5">
            <div class="card shadow" >
                <img src="hp.png" class="card-img-top" alt="...">
                <div class="card-body">
                  <h5 class="card-title">Iphone 16 Pro Max</h5>
                  <p class="card-text">
                    Layar 6,7 inci • Resolusi 1290 x 2796 pixel • Kamera 108MP • Video 4.320p • RAM 12GB • Prosesor Apple A18 Bionic • Baterai 5.122 mAh</p>
<!-- 
                  <a href="#" class="btn btn-primary">Go somewhere</a> -->
                </div>
                <div class="card-footer d-md-flex">
                    <a class="btn btn-sm btn-primary d-block mx-md-1 btnDetail">Detail</a>
                    <span class="ms-auto fw-normal d-block text-center my-auto mx-md-1">Last Bid</span>
                    <span class="ms-auto text-danger fw-bold d-block text-center my-auto mx-md-1">Rp.19.000.0000</span>
                    
                </div>
              </div>
        </div>


        <div class="col mb-5">
            <div class="card shadow" >
                <img src="mobil.png" class="card-img-top" alt="...">
                <div class="card-body">
                  <h5 class="card-title">Toyota bZ4X</h5>
                  <p class="card-text"> Panoramic Roof •
                    12.3 inch Toyota Audio Multimedia with Human Machine Interface (HMI) •
                    Advanced Parking</p>
<!-- 
                  <a href="#" class="btn btn-primary">Go somewhere</a> -->
                </div>
                <div class="card-footer d-md-flex">
                    <a class="btn btn-sm btn-primary d-block mx-md-1 btnDetail">Detail</a>
                    <span class="ms-auto fw-normal d-block text-center my-auto mx-md-1">Last Bid</span>
                    <span class="ms-auto text-danger fw-bold d-block text-center my-auto mx-md-1">Rp.210.000.0000</span>
                    
                </div>
              </div>
        </div>

        <div class="col mb-5">
            <div class="card shadow" >
                <img src="purge.png" class="card-img-top" alt="...">
                <div class="card-body">
                  <h5 class="card-title"> LV Louis Vuitton Victorine Wallet</h5>
                  <p class="card-text"> Warna: Brown •
                    Bahan: Kulit •
                    Kualitas: Semi Platinum •
                    Ukuran (PxLxT): 12x2x28 cm •
                    Berat: 0.3 Kg •
                    Kelengkapan: Dustbag</p>
<!-- 
                  <a href="#" class="btn btn-primary">Go somewhere</a> -->
                </div>
                <div class="card-footer d-md-flex">
                    <a class="btn btn-sm btn-primary d-block mx-md-1 btnDetail">Detail</a>
                    <span class="ms-auto fw-normal d-block text-center my-auto mx-md-1">Last Bid</span>
                    <span class="ms-auto text-danger fw-bold d-block text-center my-auto mx-md-1">Rp.12.000.0000</span>
                    
                </div>
              </div>
        </div>


        <div class="col mb-5">
            <div class="card shadow" >
                <img src="cap.png" class="card-img-top" alt="...">
                <div class="card-body">
                  <h5 class="card-title">New Era 940AF NY Yankee Cotton Damage Men's Cap - Black</h5>
                  <p class="card-text">Memiliki fitur patch New Era di panel depan dan penutup snapback yang dapat disesuaikan.</p>
<!-- 
                  <a href="#" class="btn btn-primary">Go somewhere</a> -->
                </div>
                <div class="card-footer d-md-flex">
                    <a class="btn btn-sm btn-primary d-block mx-md-1 btnDetail">Detail</a>
                    <span class="ms-auto fw-normal d-block text-center my-auto mx-md-1">Last Bid</span>
                    <span class="ms-auto text-danger fw-bold d-block text-center my-auto mx-md-1">Rp.500.0000</span>
                    
                </div>
              </div>
        </div>

    </div>
    </div>

<button type="button" class="btn btn-primary d-none btnModal" data-bs-toggle="modal" data-bs-target="#exampleModal">
  Launch demo modal
</button>
<!-- Modal -->
<!-- Modal -->
<div class="modal fade modal-xl" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5 modalTitle" id="exampleModalLabel"></h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body row">
        <div class="modalImage col-md-6 col-12"></div>
        <div class="col-md-6 col-12">
          <div class="modalDeskripsi"></div>

          <!-- New structure for buttons and bid history below modalImage -->
          <div class="d-md-flex mt-3 bidding-info">
            <div class="wrapper btn btn-warning btn-lg d-block mx-md-1 btnBeli">
              <span class="minus">-</span>
              <span class="num">Rp.500,000</span>
              <span class="plus">+</span>
            </div>
            <a href="#" class="btn btn-success btn-lg d-block mx-md-1 btnHigherBid"> Bid</a>
            <span class="ms-auto text-danger fw-bold d-block text-center my-auto mx-md-1 modalHarga"></span>
          </div>

          <!-- Toast for Bid Success -->
          <div class="toast align-items-center text-white bg-success border-0" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="d-flex">
              <div class="toast-body">
                Selamat Bid berhasil! <!-- Pesan yang ingin Anda tampilkan -->
              </div>
              <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
          </div>

          <!-- Tambahan pada modal -->
          <div class="mt-3 bidding-info">
            <h4>Bidding Information</h4>
            <p>Time left: <span id="countdown"></span></p>
            <!-- <p>Bidding duration: <span id="biddingDuration"></span></p> -->
          </div>

          <!-- New section for bid history -->
          <div class="mt-3 bid-history">
            <h4>Bid History</h4>
            <ul class="list-group" id="bidHistoryList">
              <!-- This is where your bid history will be dynamically added -->
            </ul>
          </div>
        </div>
      </div>
      <script>
        const plus = document.querySelector(".plus"),
          minus = document.querySelector(".minus"),
          num = document.querySelector(".num");

        // Function to format price
        const formatPrice = (price) => {
          return `Rp.${price.toLocaleString()}`;
        };

        let currentPrice = 500000; // Assuming the initial price is Rp.500,000

        // Function to update the displayed price
        const updatePrice = () => {
          const formattedPrice = formatPrice(currentPrice);
          num.innerText = formattedPrice;
        };

        plus.addEventListener("click", () => {
          currentPrice += 50000; // Increment by 50k
          updatePrice();
        });

        minus.addEventListener("click", () => {
          if (currentPrice > 50000) {
            currentPrice -= 50000; // Decrement by 50k
            updatePrice();
          }
        });

        // Set the initial value of num to match the card price
        const cardPriceElement = document.querySelector(".ms-auto.text-danger.fw-bold.d-block.text-center.my-auto.mx-md-1.modalHarga");
        if (cardPriceElement) {
          const cardPriceText = cardPriceElement.innerText.trim().replace("Rp.", "").replace(",", "");
          const cardPrice = parseInt(cardPriceText, 10);
          if (!isNaN(cardPrice)) {
            currentPrice = cardPrice;
            updatePrice();
          }
        };

        // Function to add a bid to the history list
        // Function to add a bid to the history list
const addBidToHistory = (price, datetime, name) => {
  const bidHistoryList = document.getElementById("bidHistoryList");

  if (bidHistoryList) {
    const listItem = document.createElement("li");
    listItem.classList.add("list-group-item");

    // Highlight the bidder's own bid
    const isOwnBid = name === "User's Username"; // Replace with actual bidder's name
    if (isOwnBid) {
      listItem.classList.add("highlight-bid");
    }

    listItem.innerHTML = `<strong>${formatPrice(price)}</strong> - ${datetime} by ${name}`;
    
    // Insert the new bid at the beginning of the list (top)
    bidHistoryList.insertBefore(listItem, bidHistoryList.firstChild);
  }
};


        // Function to simulate adding a new bid to the history
const simulateBidHistory = () => {
  // You can replace this with actual data or use it as a starting point
  const mockupBidData = [
    { price: 550000, datetime: "1/30/2023, 8:37:07 PM", name: "Bambang" },
    { price: 600000, datetime: "1/30/2023, 8:37:07 PM", name: "Sugeni" },
    { price: 650000, datetime: "1/30/2023, 8:37:07 PM", name: "Agus" },
    // Add more mockup data as needed
  ];

  mockupBidData.forEach((bid) => {
    addBidToHistory(bid.price, bid.datetime, bid.name);
  });
};

// Call the function to simulate bid history
simulateBidHistory();

        // Function to show bid success toast
        const showBidSuccessToast = () => {
          const bidSuccessToast = new bootstrap.Toast(document.querySelector('.toast'));
          bidSuccessToast.show();
        };

        // Listener for the Bid button
        const bidButton = document.querySelector('.btnHigherBid');
        if (bidButton) {
          bidButton.addEventListener('click', () => {
            // Get the bidder's name (you may fetch it from your application's user authentication)
            const bidderName = "User's Username"; // Replace with actual bidder's name

            // Add your bid logic here
            const bidAmount = currentPrice; // You may modify this based on your logic

            // Perform validation or any additional bid-related logic here

            // After successful bid, update the current price
            currentPrice = bidAmount;

            // Update the displayed price
            updatePrice();

            // Show the bid success toast
            showBidSuccessToast();

            // Update bid history with the latest bid information
            const currentDatetime = new Date().toLocaleString();
            addBidToHistory(bidAmount, currentDatetime, bidderName);
          });
        }
        
      </script>

      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>




    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <script src="script.js"></script>
  </body>

</html>